[Rainmeter]
Author=Creewick
Update=1000

RightMouseUpAction=[!SkinCustomMenu]
ContextTitle=#Edit# "#Calendar#"
ContextAction=[]
ContextTitle2=---
ContextAction2=[]
ContextTitle3=#Small#
ContextAction3=[!ActivateConfig "#CURRENTCONFIG#" "Calendar-small.ini"]
ContextTitle4=#Medium#
ContextAction4=[!ActivateConfig "#CURRENTCONFIG#" "Calendar-medium.ini"]
ContextTitle5=#Wide#
ContextAction5=[!ActivateConfig "#CURRENTCONFIG#" "Calendar-wide.ini"]
ContextTitle6=#Large#
ContextAction6=[!ActivateConfig "#CURRENTCONFIG#" "Calendar-large.ini"]
ContextTitle7=---
ContextAction7=[]
ContextTitle8=#RemoveWidget#
ContextAction8=[!DeactivateConfig]
ContextTitle9=---
ContextAction9=[]
ContextTitle10=#EditWidgets#
ContextAction10=[]

LeftMouseDoubleClickAction=["shell:AppsFolder\microsoft.windowscommunicationsapps_8wekyb3d8bbwe!microsoft.windowslive.calendar"]

[Variables]
@include=#@#Settings.inc
@include2=#@#Languages\#Language#.inc

[Background]
Meter=Shape
DynamicVariables=1
Shape=Rectangle 0,0,#SmallWidgetSize#,#SmallWidgetSize#,#WidgetBorderRadius#,#WidgetBorderRadius# | Fill Color #BackgroundColor# | StrokeWidth 0
Padding=#WidgetPaddingSize#,#WidgetPaddingSize#,#WidgetPaddingSize#,#WidgetPaddingSize#

[SetBackgroundColor]
Measure=Calc
DynamicVariables=1
IfCondition=#DarkMode#=0
IfTrueAction=[!SetVariable BackgroundColor #WhiteBackground#][!SetVariable ForegroundColor #DarkForeground#][!UpdateMeter Day][!UpdateMeter Background]
IfFalseAction=[!SetVariable BackgroundColor #DarkBackground#][!SetVariable ForegroundColor #LightForeground#][!UpdateMeter Day][!UpdateMeter Background]

[MeasureDay]
Measure=Time
Format=%d

[Day]
Meter=String
DynamicVariables=1
MeasureName=MeasureDay
StringAlign=Center
FontSize=(#SmallWidgetSize# * 3 / 7)
FontFace=#FontFace#
FontColor=#ForegroundColor#
AntiAlias=1
X=(#WidgetPaddingSize# + #SmallWidgetSize# / 2)
Y=(#WidgetPaddingSize# + #SmallWidgetSize# * 2 / 7)

[MeasureWeekday]
Measure=Time
Format=%A
Substitute=#Weekdays#

[MeasureWeekdayAsNumber]
Measure=String
String=[MeasureWeekday]
RegExpSubstitute=1
Substitute="(.)":"0","^(.)":"1"

[Weekday]
Meter=String
MeasureName=MeasureWeekday
StringAlign=CenterCenter
FontSize=(#SmallWidgetSize# / (1 + Log([MeasureWeekdayAsNumber])))
FontFace=#FontFace#
FontColor=240,60,60
FontWeight=800
AntiAlias=1
X=(#WidgetPaddingSize# + #SmallWidgetSize# / 2)
Y=(#WidgetPaddingSize# + #SmallWidgetSize# / 4)