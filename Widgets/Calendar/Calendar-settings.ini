[Rainmeter]
Author=Creewick
Update=100


RightMouseUpAction=[]

[Variables]
@include=#@#Settings.inc
@include1=Calendar-settings.inc
@include2=#@#Languages\#Language#.inc

[Background]
Meter=Shape
DynamicVariables=1
Shape=Rectangle 0,0,#LargeWidgetSize#,#LargeWidgetSize#,#WidgetBorderRadius#,#WidgetBorderRadius# | Fill Color #BackgroundColor# | StrokeWidth 0
Padding=#WidgetPaddingSize#,#WidgetPaddingSize#,#WidgetPaddingSize#,#WidgetPaddingSize#

[SetBackgroundColor]
Measure=Calc
DynamicVariables=1
IfCondition=#DarkMode#=0
IfTrueAction=[!SetVariable BackgroundColor #WhiteBackground#][!SetVariable ForegroundColor #DarkForeground#][!UpdateMeter Title][!UpdateMeter Background]
IfFalseAction=[!SetVariable BackgroundColor #DarkBackground#][!SetVariable ForegroundColor #LightForeground#][!UpdateMeter Title][!UpdateMeter Background]

[Icon]
Meter=Image
ImageName=#@#Images\Icons\calendar.png
X=(#WidgetPaddingSize# + #LargeWidgetSize# / 15)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# / 15)
W=(#LargeWidgetSize# / 10)
H=(#LargeWidgetSize# / 10)

[Title]
Meter=String
DynamicVariables=1
Text=#Calendar#
FontSize=(#LargeWidgetSize# / 22)
FontFace=#FontFace#
FontColor=#ForegroundColor#
FontWeight=600
AntiAlias=1
X=(#WidgetPaddingSize# + #LargeWidgetSize# / 5)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# / 13)

[Description]
Meter=String
Text=#CalendarDescription#
FontSize=(#LargeWidgetSize# / 26)
FontFace=#FontFace#
FontColor=#MiddleForeground#
FontWeight=300
AntiAlias=1
X=(#WidgetPaddingSize# + #LargeWidgetSize# / 17)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# / 5)

[SaveButton]
Meter=Shape
Shape=Rectangle (11 / 15 * #LargeWidgetSize# + #WidgetPaddingSize#), (#WidgetPaddingSize# + #LargeWidgetSize# * 2 / 25), (#LargeWidgetSize# / 5), (#LargeWidgetSize# / 15), 4, 4 | Fill Color 255,255,255,64 | StrokeColor 0,0,0,64
LeftMouseUpAction=[!ActivateConfig "#CURRENTCONFIG#" "#ReturnTo#"]

[SaveTitle]
Meter=String
DynamicVariables=1
Text=#Save#
FontFace=#FontFace#
FontSize=(#LargeWidgetSize# / 30)
FontColor=#ForegroundColor#
AntiAlias=1
StringAlign=Center
X=(5 / 6 * #LargeWidgetSize# + #WidgetPaddingSize#)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# * 13 / 150)
LeftMouseUpAction=[!ActivateConfig "#CURRENTCONFIG#" "#ReturnTo#"]

[SundayWeekText]
Meter=String
DynamicVariables=1
Text=#CalendarSundayWeekText#
FontFace=#FontFace#
FontSize=(#LargeWidgetSize# / 26)
FontColor=#ForegroundColor#
FontWeight=500
AntiAlias=1
X=(#WidgetPaddingSize# + #LargeWidgetSize# / 17)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# * 5 / 15)

[SundayWeekValueShape]
Meter=Shape
Shape=Rectangle (#WidgetPaddingSize# + #LargeWidgetSize# * 12 / 15), (#WidgetPaddingSize# + #LargeWidgetSize# * 5 / 15), (#LargeWidgetSize# * 2 / 15), (#LargeWidgetSize# / 15), 4, 4 | Fill Color 255,255,255,64 | StrokeColor 0,0,0,64
LeftMouseUpAction=[!CommandMeasure "SundayWeekInput" "ExecuteBatch ALL"]

[SundayWeekValue]
Meter=String
DynamicVariables=1
Text=#SundayWeek#
FontFace=#FontFace#
FontSize=(#LargeWidgetSize# / 26)
FontColor=#ForegroundColor#
FontWeight=300
AntiAlias=1
X=(#WidgetPaddingSize# + #LargeWidgetSize# * 12 / 15)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# * 5 / 15)


[SundayWeekInput]
Measure=Plugin
Plugin=InputText
DefaultValue=#SundayWeek#
FontFace=#FontFace#
FontSize=(#LargeWidgetSize# / 26)
FontColor=#ForegroundColor#
SolidColor=#BackgroundColor#
X=(#WidgetPaddingSize# + #LargeWidgetSize# * 12 / 15)
Y=(#WidgetPaddingSize# + #LargeWidgetSize# * 5 / 15)
W=(#LargeWidgetSize# * 2 / 15)
H=(#LargeWidgetSize# / 15)
Command1=[!WriteKeyValue Variables SundayWeek "$UserInput$" "Calendar-settings.inc"][!Refresh]