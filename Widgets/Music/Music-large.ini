[Rainmeter]
Update=100
DefaultUpdateDivider=-1

[Metadata]
Author=Creewick
Version=0.4 beta

[Variables]
WidgetName=Music
WidgetSize=large
@include1=#@#\Components\WidgetBase.inc
@include2=Music.inc
@include3=settings.inc
LightThemeBackground=f94151
DarkThemeBackground=ad2d38
LightThemeForeground=ffffff
Hovered=0

[BackgroundMeter]
MouseOverAction=[!SetVariable Hovered 1][!UpdateMeterGroup Buttons][!UpdateMeterGroup Text][!Redraw]
MouseLeaveAction=[!SetVariable Hovered 0][!UpdateMeterGroup Buttons][!UpdateMeterGroup Text][!Redraw]
LeftMouseDoubleClickAction=[#MusicApp#]

[CoverMask]
Meter=Shape
Shape=Rectangle 0,0,#WidgetHeight#,#WidgetHeight#,#WidgetRadius# | StrokeWidth 0
X=#WidgetPadding#
Y=#WidgetPadding#

[CoverMeter]
Meter=Image
Group=Text
ImageName=[CoverMeasure]
DynamicVariables=1
Container=CoverMask
W=#WidgetHeight#
H=#WidgetHeight#
PreserveAspectRatio=2

[CoverOverlayMask]
Meter=Shape
Group=Buttons
Shape=Rectangle 0,(#WidgetHeight#*0.70),#WidgetWidth#,(#WidgetHeight#*0.30) | StrokeWidth 0
X=#WidgetPadding#
Y=#WidgetPadding#

[CoverOverlay]
Meter=Shape
Group=Buttons
Container=CoverOverlayMask
Shape=Rectangle 0,0,#WidgetHeight#,#WidgetHeight#,#WidgetRadius# | Fill Color #BackgroundColor# | StrokeWidth 0
Hidden=([StateMeasure]=1) && (#Hovered#=0)
DynamicVariables=1

[PauseMeter]
Meter=Image
Group=Buttons
ImageName=#@#Images\Widgets\Music\pause.png
ImageTint=#ForegroundColor#
X=(#WidgetPadding#+#WidgetWidth#*0.45)
Y=(#WidgetPadding#+#WidgetHeight#*0.87)
W=(#WidgetHeight#*0.1)
Hidden=(#Hovered#=0) || ([StateMeasure]<>1) 
LeftMouseUpAction=[!CommandMeasure "TitleMeasure" "PlayPause"]
DynamicVariables=1

[PlayMeter]
Meter=Image
Group=Buttons
MeterStyle=PauseMeter
ImageName=#@#Images\Widgets\Music\play.png
Hidden=([StateMeasure]=1)
LeftMouseUpAction=[!CommandMeasure "TitleMeasure" "PlayPause"]

[BackMeter]
Meter=Image
Group=Buttons
MeterStyle=PauseMeter
ImageName=#@#Images\Widgets\Music\back.png
X=(#WidgetPadding#+#WidgetWidth#*0.25)
Hidden=(#Hovered#=0) && ([StateMeasure]=1)
LeftMouseUpAction=[!CommandMeasure "TitleMeasure" "Previous"]

[NextMeter]
Meter=Image
Group=Buttons
MeterStyle=PauseMeter
ImageName=#@#Images\Widgets\Music\next.png
X=(#WidgetPadding#+#WidgetWidth#*0.65)
Hidden=(#Hovered#=0) && ([StateMeasure]=1)
LeftMouseUpAction=[!CommandMeasure "TitleMeasure" "Next"]

[MusicLogo]
Meter=Image
Group=Buttons
ImageName=#@#Images\Widgets\Music\Music.png
ImageTint=#ForegroundColor#
X=(#WidgetPadding#+#WidgetWidth#*0.9)
Y=(#WidgetPadding#+#WidgetHeight#*0.05)
W=(#WidgetHeight#*0.07)
DynamicVariables=1

[TitleMeter]
Meter=String
Group=Text
Text=[TitleMeasure]
DynamicVariables=1
FontFace=#FontFace#
FontWeight=500
FontColor=#ForegroundColor#
FontSize=(#WidgetHeight#*0.035)
StringAlign=Center
X=(#WidgetPadding#+#WidgetHeight#*0.5)
Y=(#WidgetPadding#+#WidgetHeight#*0.73)
W=(#WidgetWidth#)
Hidden=(#Hovered#=0) && ([StateMeasure]=1)
ClipString=1
AntiAlias=1

[ArtistMeter]
Meter=String
Group=Text
MeterStyle=TitleMeter
Text=[ArtistMeasure]
DynamicVariables=1
FontWeight=100
FontColor=#ForegroundColor#a0
Y=(#WidgetPadding#+#WidgetHeight#*0.79)
Hidden=(#Hovered#=0) && ([StateMeasure]=1)

[NoMusicMeter]
Meter=String
MeterStyle=TitleMeter
Text=#tNoMusic#
Hidden=([StateMeasure]<>0)
DynamicVariables=1